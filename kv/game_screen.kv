<GameScreen>:
    on_pre_enter: player2_name.text = root.player2.get_name()
    on_pre_enter: player1_name.text = root.player1.get_name()
    on_enter: pl1_btn.text = root.player1.get_name()
    on_enter: pl2_btn.text = root.player2.get_name()
    winner: None
    looser: None
    MDBoxLayout:
        orientation: 'vertical'
        spacing: dp(60)
        pos_hint: {'top': 1}
        MDGridLayout:
            padding: [0, 30, 0, 0]
            pos_hint: {'top': 1}
            adaptive_height: True
            cols: 5
            rows: 3
            spacing: [0, 30]

            MDLabel:
                text: ''
            MDLabel:
                text: "Players"
                halign: 'center'
            MDLabel:
                text: "Points"
                halign: 'center'
            MDLabel:
                text: "Games"
                halign: 'center'
            MDLabel:
                text: "Sets"
                halign: 'center'
            MDIcon:
                halign: 'center'
                icon: 'tennis-ball'
                opacity: 0
                id: server1
            MDLabel:
                id: player1_name
                text: ""
                halign: 'center'
            MDLabel:
                id: points_label1
                text: '0'
                halign: 'center'
            MDLabel:
                id: games_label1
                text: "0"
                halign: 'center'
            MDLabel:
                id: sets_label1
                text: "0"
                halign: 'center'
            MDIcon:
                halign: 'center'
                icon: 'tennis-ball'
                opacity: 0
                id: server2
            MDLabel:
                id: player2_name
                text: "Player1"
                halign: 'center'
            MDLabel:
                id: points_label2
                text: "0"
                halign: 'center'
            MDLabel:
                id: games_label2
                text: "0"
                halign: 'center'
            MDLabel:
                id: sets_label2
                text: "0"
                halign: 'center'
        ScreenManager:
            id: game_manager

            MDScreen:
                on_pre_enter: fault.text = 'Fault'
                name: 'service'
                MDBoxLayout:
                    orientation: 'vertical'
                    adaptive_height: True
                    adaptive_width: True
                    pos_hint: {'top': .8, 'center_x': .5}
                    spacing: 50
                    MDBoxLayout:
                        id: box1
                        orientation: 'horizontal'
                        adaptive_height: True
                        adaptive_width: True
                        #md_bg_color: app.theme_cls.primary_color
                        pos_hint: {'top': .8, 'center_x': .5}
                        spacing: 50
                        MDRectangleFlatButton:
                            id: ace
                            text: 'Ace'
                            on_release: app.update_scoreboard(root.match.server, root.match.receiver, root.match)
                        MDRectangleFlatButton:
                            id: fault
                            text: 'Fault'
                            on_release: app.modify_fault_button()

                    MDRectangleFlatButton:
                        text: 'Ball in Play'
                        increment_width: box1.width - 50
                        on_release: game_manager.current = 'on_court'
            MDScreen:
                name: 'on_court'
                MDBoxLayout:
                    orientation: 'vertical'
                    adaptive_height: True
                    adaptive_width: True
                    pos_hint: {'top': .8, 'center_x': .5}
                    spacing: 50
                    MDLabel:
                        text: 'Who won the point?'
                        halign: 'center'
                    MDBoxLayout:
                        orientation: 'horizontal'
                        adaptive_height: True
                        adaptive_width: True
                        #md_bg_color: app.theme_cls.primary_color
                        pos_hint: {'top': .8, 'center_x': .5}
                        spacing: 50
                        MDRectangleFlatButton:
                            id: pl1_btn
                            text: ''
                            on_release: app.set_winner(root.player1, root.player2)
                            on_release: game_manager.current ='game_details1'
                        MDRectangleFlatButton:
                            id: pl2_btn
                            text: ''
                            on_release: app.set_winner(root.player2, root.player1)
                            on_release: game_manager.current = 'game_details1'
            MDScreen:
                name: 'game_details1'
                MDBoxLayout:
                    orientation: 'vertical'
                    adaptive_height: True
                    adaptive_width: True
                    pos_hint: {'top': .8, 'center_x': .5}
                    spacing: 50
                    MDLabel:
                        text: 'The point ended, because of a ...'
                        halign: 'center'
                    MDBoxLayout:
                        id: box2
                        orientation: 'horizontal'
                        adaptive_height: True
                        adaptive_width: True
                        #md_bg_color: app.theme_cls.primary_color
                        pos_hint: {'top': .8, 'center_x': .5}
                        spacing: 50

                        MDRectangleFlatButton:
                            id: forced_error
                            text: 'Forced Error'
                            on_release: app.update_scoreboard(root.winner, root.looser, root.match)
                            on_release: game_manager.current = 'service'
                        MDRectangleFlatButton:
                            id: unforced_error
                            text: 'Unforced Error'
                            on_release: app.update_scoreboard(root.winner, root.looser, root.match)
                            on_release: game_manager.current = 'service'

                    MDRectangleFlatButton:
                        id: winner
                        text: 'Winner'
                        pos_hint: {'center_x': .5}
                        increment_width: box2.width - 50
                        on_release: app.update_scoreboard(root.winner, root.looser, root.match)
                        on_release: game_manager.current = 'service'